{% extends "base.html" %}
{% block title %}Buchung - {{ hotel.name }}{% endblock %}
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/style_booking_step1.css') }}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/litepicker/dist/css/litepicker.css">

<div id="booking-config" 
     data-price-standard="{{ hotel.price_per_night }}"
     data-price-deluxe="{{ hotel.price_per_night_u1 }}"
     data-price-family="{{ hotel.price_per_night_u2 }}"
     data-price-premium="{{ hotel.price_per_night_u3 }}"
     style="display:none;">
</div>
<div class="video-bg-container">
  <video autoplay muted loop playsinline>
    <source src="{{ url_for('static', filename='primVid.mp4') }}" type="video/mp4">
  </video>
  <div class="video-bg-overlay"></div>
</div>
<div class="content-wrapper">
  <div class="container">
    <div class="main-container-box">
      <h1>Buchung f√ºr {{ hotel.name }}</h1>
      <div class="progress-wrapper">
        <span class="progress-text">Schritt 1 von 3</span>
        <div class="progress flex-grow-1">
          <div class="progress-bar bg-success" role="progressbar" style="width: 33.33%"></div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          <div class="card">
            <div class="card-header">
              <h5 class="mb-0"><strong>Schritt 1: Reisedaten w√§hlen</strong></h5>
            </div>
            <div class="card-body">
              <form method="POST" action="{{ url_for('views.booking_step1', hotel_id=hotel.id) }}">
                <div class="form-group">
                  <h6 for="checkin">Reisezeitraum</h6>
                  <div class="date-range-container">
                    <input type="text" id="checkin" name="checkin" class="form-control" required readonly
                      placeholder="Anreisedatum" value="{{ request.form.checkin }}">
                    <span class="date-range-separator">‚Äî</span>
                    <input type="text" id="checkout" name="checkout" class="form-control" required readonly
                      placeholder="Abreisedatum" value="{{ request.form.checkout }}">
                  </div>
                  <small class="text-muted">Klicken Sie auf das Anreisedatum um den Zeitraum zu w√§hlen</small>
                </div>
                <hr>
                <div class="form-group">
                  <h5><strong>Anzahl G√§ste</strong></h5>
                  <div class="guests-container">
                    <div class="guest-section">
                      <label>Erwachsene</label>
                      <div class="guest-input-group">
                        <button type="button" class="guest-btn" data-target="num_adults" data-change="-1">‚àí</button>
                        <span class="guest-count" id="adults-count">2</span>
                        <button type="button" class="guest-btn" data-target="num_adults" data-change="1">+</button>
                        <input type="hidden" id="num_adults" name="num_adults" value="2">
                      </div>
                    </div>
                    <div class="guest-section">
                      <label>Kinder</label>
                      <div class="guest-input-group">
                        <button type="button" class="guest-btn" data-target="num_children" data-change="-1">‚àí</button>
                        <span class="guest-count" id="children-count">0</span>
                        <button type="button" class="guest-btn" data-target="num_children" data-change="1">+</button>
                        <input type="hidden" id="num_children" name="num_children" value="0">
                      </div>
                    </div>
                  </div>
                </div>
                <hr>
                <div class="form-group">
                  <h5><strong>Zimmertyp w√§hlen</strong></h5>
                  <div class="rooms-container">
                    <label class="room-card">
                      <input type="radio" name="room_type" value="standard" class="room-input" required>
                      <h6>Standard Zimmer</h6>
                      <div class="room-price">{{hotel.price_per_night}}‚Ç¨ p.P</div>
                      <div class="room-info">
                        <div>üë• bis 2 Personen</div>
                        <div>üì∫ TV, WLAN</div>
                      </div>
                    </label>
                    <label class="room-card">
                      <input type="radio" name="room_type" value="deluxe" class="room-input" required>
                      <h6>Deluxe Zimmer</h6>
                      <div class="room-price">{{hotel.price_per_night_u1}}‚Ç¨ p.P</div>
                      <div class="room-info">
                        <div>üë• bis 3 Personen</div>
                        <div>üõÅ Badewanne, Minibar</div>
                      </div>
                    </label>
                    <label class="room-card">
                      <input type="radio" name="room_type" value="family" class="room-input" required>
                      <h6>Family Suite</h6>
                      <div class="room-price">{{hotel.price_per_night_u2}}‚Ç¨ p.P</div>
                      <div class="room-info">
                        <div>üë• bis 4 Personen</div>
                        <div>üõèÔ∏è 2 Schlafzimmer</div>
                      </div>
                    </label>
                    <label class="room-card">
                      <input type="radio" name="room_type" value="premium" class="room-input" required>
                      <h6>Premium Suite</h6>
                      <div class="room-price">{{hotel.price_per_night_u3}}‚Ç¨ p.P</div>
                      <div class="room-info">
                        <div>üë• bis 5 Personen</div>
                        <div>üåÜ Balkon, Whirlpool</div>
                      </div>
                    </label>
                  </div>
                </div>
                <hr>
                <div class="d-flex justify-content-between">
                  <a href="{{ url_for('views.booking_detail', hotel_id=hotel.id) }}" class="btn btn-secondary">
                    ¬´ Zur√ºck zur √úbersicht
                  </a>
                  <button type="submit" class="btn btn-success">
                    Weiter zu Schritt 2 ¬ª
                  </button>
                </div>
                <input type="hidden" id="total_price_input" name="total_price" value="0">
              </form>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card">
            <div class="card-header">
              <h6 class="mb-0">Buchungs√ºbersicht</h6>
            </div>
            <div class="card-body">
              <p><strong>Hotel:</strong> {{ hotel.name }}</p>
              <p><strong>Ort:</strong> {{ hotel.city }}</p>
              <p><strong>Adresse:</strong> {{hotel.hotel_street}}</p>
              <p><strong>Preis:</strong> <span id="total_price">0,00‚Ç¨</span></p>
            </div>
          </div>
          <div class="card">
            <div class="card-header">
              <h6 class="mb-0">Ihre Vorteile</h6>
            </div>
            <div class="card-body">
              <li>‚úÖ Kostenlose Stornierung bis 24h vor Anreise</li>
              <li>‚úÖ Sichere Zahlung nach PCI DSS </li>
              <li>‚úÖ Sofortige Best√§tigung der Buchung</li>
            </div>
          </div>
          <div class="card mt-3">
            <div class="card-header">
              <h6 class="mb-0">Sie haben Fragen?</h6>
            </div>
            <div class="card-body">
              <p> Bei bestehenden Fragen zu unseren Angebotenen Services, z√∂gen Sie nicht und kontaktieren Sie unser
                Support-Team!</p>
              <p>‚úâÔ∏è: {{hotel.hotel_email}}</p>
              <p>‚òéÔ∏è: {{hotel.hotel_phone}}</p>
              <p>Hier finden Sie unsere Webseite:
              </p>
              <a href={{hotel.hotel_website}} class="btn-hotel-website">
                {{hotel.name}} Webseite
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/litepicker/dist/litepicker.js"></script>
<script src="{{ url_for('static', filename='script/booking_step1.js') }}"></script>

{% endblock %}
